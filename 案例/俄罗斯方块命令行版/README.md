# 这是一个文档，用于记录我在看教程编写 ***俄罗斯方块命令行版***  的过程中遇到的问题和解决方法。

## 1. 代码算法
### 旋转算法
- 目的： 计算旋转后的坐标对应的索引。
- 方法：在坐标系xOy不变的情况下，根据旋转的角度（0度、90度、180度、270度）计算新索引位置，并根据新的索引位置返回对应的坐标，绘制旋转后的方块。
- 输入： 当前坐标 (x, y)，旋转方向（顺时针或逆时针）。
- 输出： 旋转后的坐标对应的索引。
- 旋转规则(顺时针)：
    1.旋转 *0* 度：对应索引 = y * 4 + x
    2.旋转 *90* 度：对应索引 = (3 - x) * 4 + y
    3.旋转 *180* 度：对应索引 = (3 - y) * 4 + (3 - x)
    4.旋转 *270* 度：对应索引 = x * 4 + (3 - y)


- 坐标系统：
    ```
            (0,0) (1,0) (2,0) (3,0)                  0    1    2    3
            (0,1) (1,1) (2,1) (3,1)                  4    5    6    7
            (0,2) (1,2) (2,2) (3,2)                  8    9   10   11
            (0,3) (1,3) (2,3) (3,3)                 12  13  14  15
    ```


## 2.新学到的知识
- `wstring`：宽字符串，使用 `wchar_t` 类型的字符，可以存储 Unicode 字符。
- `append`：字符串的成员函数，用于在字符串末尾添加内容。
- `L`：表示宽字符串字面量的前缀，例如 `L"Hello"` 表示一个宽字符串。
- `@param`：Doxygen 注释中的标签，用于描述函数参数。
- `@return`：Doxygen 注释中的标签，用于描述函数的返回值
- `unsigned char`：无符号字符类型，表示一个字节的字符数据，范围从 0 到 255。
- `nullptr`：空指针常量，表示一个空指针，通常用于指针初始化或表示没有有效对象。
- `new`：用于动态分配内存，创建对象或数组，并返回指向新分配内存的指针。

## 3.单词
| 单词 | 词性 | 释义 |
| tetromino | n. | 四格方块 |

## 4. 遇到的问题和解决方法
在 Arch Linux 上，你需要用 `ncurses` 库来替代 Windows 下的 `<windows.h>` 实现命令行界面。下面我来详细说明如何迁移你的项目。

## 🔄 核心替代方案：ncurses 库

`ncurses` 是 Linux/Unix 系统下控制终端的标准库，功能和你教程中 `windows.h` 的 console 操作类似：

| Windows 功能 | ncurses 替代方案 |
|------------|-----------------|
| `system("cls")` | `clear()` 或 `erase()` |
| `gotoxy(x,y)` | `move(y,x)` 或 `mvprintw(y,x, ...)` |
| `SetConsoleTextAttribute` | `attron(COLOR_PAIR(n))` / `attroff()` |
| `_kbhit()` / `_getch()` | `getch()`（需配合 `cbreak()` 和 `noecho()`） |
| 控制台缓冲区 | `stdscr` 窗口缓冲区 |

